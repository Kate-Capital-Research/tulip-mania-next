/* custom.css - Kate Capital Financial Dashboards
   Clean, minimal styling
   Last updated: November 2025
*/

/* ========================================
   REDUCE TOP NAVBAR HEIGHT
   ======================================== */
html {
  --pst-header-height: 3.5rem;
  --pst-header-article-height: calc(var(--pst-header-height) * 2/3);
}

/* ========================================
   FONT SIZING
   ======================================== */
html {
  --pst-font-size-base: 0.875rem; /* 14px */
  --pst-font-size-h1: calc(var(--pst-font-size-base) * 2.2);
  --pst-font-size-h2: calc(var(--pst-font-size-base) * 2.0);
  --pst-font-size-h3: calc(var(--pst-font-size-base) * 1.8);
  --pst-font-size-h4: calc(var(--pst-font-size-base) * 1.6);
  --pst-font-size-h5: calc(var(--pst-font-size-base) * 1.4);
  --pst-font-size-h6: calc(var(--pst-font-size-base) * 1.2);
  --pst-sidebar-header-font-size: 1rem;
  --pst-sidebar-font-size: 0.9rem;
}

/* ========================================
   SIDEBAR WIDTHS
   ======================================== */
html {
  --pst-sidebar-secondary: 12rem;
  --pst-sidebar-primary: 12rem;
}

.bd-sidebar-primary {
  width: 12rem !important;
}

/* ========================================
   DARK MODE - FORCE OUTPUT CELLS TO WHITE
   ======================================== */
html[data-theme="dark"] .cell_output,
html[data-theme="dark"] .output_area,
html[data-theme="dark"] .output,
html[data-theme="dark"] div.cell_output div.output,
html[data-theme="dark"] div.output_area pre {
  background-color: #ffffff !important;
  color: #000000 !important;
  border: 1px solid #ccc;
  padding: 0.5em;
  border-radius: 6px;
}

/* ========================================
   COLOR SCHEME
   ======================================== */
html[data-theme="light"] {
  --pst-color-primary: #797878;
  --pst-color-secondary: #565656;
  --pst-color-secondary-highlight: #333333;
  --pst-color-info: rgb(200, 74, 99);
  --mystnb-source-margin-color: #e17d17;
}

html[data-theme="dark"] {
  --mystnb-source-bg-color: #14181e;
  --mystnb-source-margin-color: #e17d17;
}

/* ========================================
   RESPONSIVE CHARTS AND FIGURES
   ======================================== */
.cell_output img,
.output_area img,
figure img {
  max-width: 100% !important;
  height: auto !important;
  display: block;
}

.plotly-graph-div {
  width: 100% !important;
  height: auto !important;
}

.js-plotly-plot {
  width: 100% !important;
}

.cell_output table,
.output_area table {
  max-width: 100%;
  overflow-x: auto;
  display: block;
}

.cell_output iframe,
.output_area iframe {
  max-width: 100%;
}

/* ========================================
   RESPONSIVE WIDTH EXPANSION FOR LARGE SCREENS
   ======================================== */

/* MyST book-theme uses CSS Grid. Must override grid-template-columns,
   NOT max-width (which just makes side margins consume the space). */

/* Very large screens (â‰¥2000px) - Your 2550x1440 monitor */
@media (min-width: 2000px) {
  main.article-grid,
  article.article-grid {
    grid-template-columns:
      [screen-start] 0.25fr
      [page-start] 0.5rem
      [body-outset-start body-start gutter-left-start]
      minmax(20ch, 50ch) [body-inset-start middle-start]
      minmax(20ch, 50ch) [gutter-left-end]
      minmax(20ch, 50ch) minmax(20ch, 50ch)
      [gutter-right-start] minmax(20ch, 50ch)
      [middle-end body-inset-end]
      minmax(20ch, 50ch) [body-end gutter-right-end body-outset-end]
      0.5rem [page-end]
      0.25fr [screen-end] !important;
  }
}

/* Large screens (1536-1999px) */
@media (min-width: 1536px) and (max-width: 1999px) {
  main.article-grid,
  article.article-grid {
    grid-template-columns:
      [screen-start] 0.5fr
      [page-start] 1rem
      [body-outset-start body-start gutter-left-start]
      minmax(15ch, 40ch) [body-inset-start middle-start]
      minmax(15ch, 40ch) [gutter-left-end]
      minmax(15ch, 40ch) minmax(15ch, 40ch)
      [gutter-right-start] minmax(15ch, 40ch)
      [middle-end body-inset-end]
      minmax(15ch, 40ch) [body-end gutter-right-end body-outset-end]
      1rem [page-end]
      0.5fr [screen-end] !important;
  }
}

/* Medium-large screens (1280-1535px) */
@media (min-width: 1280px) and (max-width: 1535px) {
  main.article-grid,
  article.article-grid {
    grid-template-columns:
      [screen-start] 0.75fr
      [page-start] 1.5rem
      [body-outset-start body-start gutter-left-start]
      minmax(12ch, 30ch) [body-inset-start middle-start]
      minmax(12ch, 30ch) [gutter-left-end]
      minmax(12ch, 30ch) minmax(12ch, 30ch)
      [gutter-right-start] minmax(12ch, 30ch)
      [middle-end body-inset-end]
      minmax(12ch, 30ch) [body-end gutter-right-end body-outset-end]
      1.5rem [page-end]
      0.75fr [screen-end] !important;
  }
}
