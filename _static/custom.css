/* custom.css - Kate Capital Financial Dashboards
   Clean, minimal styling
   Last updated: November 2025
*/

/* ========================================
   REDUCE TOP NAVBAR HEIGHT
   ======================================== */
html {
  --pst-header-height: 3.5rem;
  --pst-header-article-height: calc(var(--pst-header-height) * 2/3);
}

/* ========================================
   FONT SIZING
   ======================================== */
html {
  --pst-font-size-base: 0.875rem; /* 14px */
  --pst-font-size-h1: calc(var(--pst-font-size-base) * 2.2);
  --pst-font-size-h2: calc(var(--pst-font-size-base) * 2.0);
  --pst-font-size-h3: calc(var(--pst-font-size-base) * 1.8);
  --pst-font-size-h4: calc(var(--pst-font-size-base) * 1.6);
  --pst-font-size-h5: calc(var(--pst-font-size-base) * 1.4);
  --pst-font-size-h6: calc(var(--pst-font-size-base) * 1.2);
  --pst-sidebar-header-font-size: 1rem;
  --pst-sidebar-font-size: 0.9rem;
}

/* ========================================
   SIDEBAR WIDTHS
   ======================================== */
html {
  --pst-sidebar-secondary: 12rem;
  --pst-sidebar-primary: 12rem;
}

.bd-sidebar-primary {
  width: 12rem !important;
}

/* ========================================
   DARK MODE - FORCE OUTPUT CELLS TO WHITE
   ======================================== */
html[data-theme="dark"] .cell_output,
html[data-theme="dark"] .output_area,
html[data-theme="dark"] .output,
html[data-theme="dark"] div.cell_output div.output,
html[data-theme="dark"] div.output_area pre {
  background-color: #ffffff !important;
  color: #000000 !important;
  border: 1px solid #ccc;
  padding: 0.5em;
  border-radius: 6px;
}

/* ========================================
   COLOR SCHEME
   ======================================== */
html[data-theme="light"] {
  --pst-color-primary: #797878;
  --pst-color-secondary: #565656;
  --pst-color-secondary-highlight: #333333;
  --pst-color-info: rgb(200, 74, 99);
  --mystnb-source-margin-color: #e17d17;
}

html[data-theme="dark"] {
  --mystnb-source-bg-color: #14181e;
  --mystnb-source-margin-color: #e17d17;
}

/* ========================================
   RESPONSIVE CHARTS AND FIGURES
   ======================================== */
.cell_output img,
.output_area img,
figure img {
  max-width: 100% !important;
  height: auto !important;
  display: block;
}

.plotly-graph-div {
  width: 100% !important;
  height: auto !important;
}

.js-plotly-plot {
  width: 100% !important;
}

.cell_output table,
.output_area table {
  max-width: 100%;
  overflow-x: auto;
  display: block;
}

.cell_output iframe,
.output_area iframe {
  max-width: 100%;
}

/* ========================================
   RESPONSIVE WIDTH EXPANSION FOR LARGE SCREENS
   ======================================== */

/* MyST book-theme: Expand content while accounting for sidebar space.
   Sidebars are ~12rem each = 24rem total. Subtract from viewport width. */

/* Very large screens (≥2000px) - Your 2550x1440 monitor */
@media (min-width: 2000px) {
  article.col-screen {
    max-width: calc(100vw - 28rem) !important;
    width: calc(100vw - 28rem) !important;
  }
}

/* Large screens (1536-1999px) */
@media (min-width: 1536px) and (max-width: 1999px) {
  article.col-screen {
    max-width: calc(100vw - 30rem) !important;
    width: calc(100vw - 30rem) !important;
  }
}

/* Medium-large screens (1280-1535px) */
@media (min-width: 1280px) and (max-width: 1535px) {
  article.col-screen {
    max-width: calc(100vw - 32rem) !important;
    width: calc(100vw - 32rem) !important;
  }
}

/* ========================================
   NAVIGATION & HEADER STYLING
   Kate Capital Custom Theme
   ======================================== */

/* -----------------------------------------
   1. TOP NAVIGATION BAR
   Classes: .myst-top-nav, .myst-top-nav-bar
   ----------------------------------------- */

/* Top nav background and shadow */
.myst-top-nav {
  /* Uncomment to change nav bar background */
  /* background-color: rgba(255, 255, 255, 0.9) !important; */
  /* dark mode: background-color: rgba(28, 25, 23, 0.9) !important; */
}

/* -----------------------------------------
   2. NAVIGATION MENU ITEMS
   Classes: .myst-top-nav-item
   ----------------------------------------- */

/* Center the navigation items */
.myst-top-nav-bar {
  justify-content: center !important;
}

/* Nav items container - center it */
.myst-top-nav-bar > .flex-grow {
  flex-grow: 0 !important;
  justify-content: center !important;
}

/* Individual nav items - base styling */
.myst-top-nav-item a,
.myst-top-nav-dropdown button {
  position: relative;
  padding: 0.5rem 1rem !important;
  margin: 0 0.5rem !important;
  font-weight: 500 !important;
  transition: all 0.2s ease !important;
}

/* Underline effect on hover (animated from center) */
.myst-top-nav-item a::after,
.myst-top-nav-dropdown button::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 50%;
  width: 0;
  height: 2px;
  background-color: #d4a574; /* Pale gold/tan - CHANGE THIS COLOR */
  transition: all 0.3s ease;
  transform: translateX(-50%);
}

.myst-top-nav-item a:hover::after,
.myst-top-nav-dropdown button:hover::after {
  width: 80%;
}

/* Active/selected nav item styling */
.myst-top-nav-item a[aria-current="page"],
.myst-top-nav-item a.active {
  font-weight: 600 !important;
  border-bottom: 2px solid #d4a574 !important; /* Pale gold underline */
}

/* Remove the default border-b from MyST */
.myst-top-nav-item a.border-b {
  border-bottom: 2px solid #d4a574 !important;
}

/* -----------------------------------------
   3. HOVER COLORS (PALE BLUE → PALE YELLOW)
   Change from default blue to yellow/gold
   ----------------------------------------- */

/* TOC & Sidebar hover: pale yellow instead of blue */
.myst-toc-item:hover,
.myst-primary-sidebar-item:hover,
.myst-primary-sidebar-item-short:hover,
.myst-primary-sidebar-item-link:hover,
.myst-toc-heading:hover {
  background-color: rgba(250, 240, 190, 0.4) !important; /* Pale yellow */
}

/* Dark mode hover color */
html[data-theme="dark"] .myst-toc-item:hover,
html[data-theme="dark"] .myst-primary-sidebar-item:hover,
html[data-theme="dark"] .myst-primary-sidebar-item-short:hover,
html[data-theme="dark"] .myst-primary-sidebar-item-link:hover,
html[data-theme="dark"] .myst-toc-heading:hover {
  background-color: rgba(212, 165, 116, 0.25) !important; /* Muted gold for dark mode */
}

/* Active/selected TOC item: pale yellow instead of blue */
.myst-toc-item-exact,
.myst-toc-item.bg-blue-300\/30 {
  background-color: rgba(250, 240, 190, 0.5) !important; /* Pale yellow */
}

html[data-theme="dark"] .myst-toc-item-exact,
html[data-theme="dark"] .myst-toc-item.bg-blue-300\/30 {
  background-color: rgba(212, 165, 116, 0.35) !important;
}

/* Dropdown menu hover */
.myst-top-nav-dropdown-item:hover {
  background-color: rgba(250, 240, 190, 0.6) !important;
}

/* -----------------------------------------
   4. TOC EXPAND/COLLAPSE TRIANGLES (Chevrons)
   The arrows that open/close sections
   ----------------------------------------- */

/* Base chevron styling */
.myst-toc-item button svg,
.myst-primary-sidebar-item button svg,
.myst-primary-sidebar-item-child svg {
  color: #8b7355 !important; /* Warm brown - CHANGE THIS COLOR */
  transition: all 0.3s ease !important;
}

/* Chevron hover effect */
.myst-toc-item button:hover svg,
.myst-primary-sidebar-item button:hover svg,
.myst-primary-sidebar-item-child:hover svg {
  color: #d4a574 !important; /* Lighter gold on hover */
  transform: scale(1.1);
}

/* Chevron when section is open (rotated) */
.myst-toc-item button[data-state="open"] svg,
.myst-primary-sidebar-item-child[data-state="open"] svg,
button[data-state="open"] svg.transition-transform {
  color: #d4a574 !important;
}

/* Alternative: Use CSS to replace chevrons with different symbols */
/* Uncomment below to use plus/minus instead of arrows */
/*
.myst-toc-item button svg,
.myst-primary-sidebar-item-child svg {
  display: none !important;
}
.myst-toc-item button::before {
  content: '▸';
  font-size: 1rem;
  transition: transform 0.3s ease;
}
.myst-toc-item button[data-state="open"]::before {
  content: '▾';
}
*/

/* -----------------------------------------
   5. THEME TOGGLE BUTTON (Light/Dark Mode)
   Classes: .myst-theme-button
   Icons: .myst-theme-moon-icon, .myst-theme-sun-icon
   ----------------------------------------- */

/* Theme button container */
.myst-theme-button {
  border-color: #8b7355 !important; /* Warm brown border */
  transition: all 0.3s ease !important;
}

.myst-theme-button:hover {
  background-color: rgba(250, 240, 190, 0.5) !important; /* Pale yellow on hover */
  border-color: #d4a574 !important;
  transform: scale(1.05);
}

/* Sun icon (shown in light mode) */
.myst-theme-sun-icon {
  color: #d4a574 !important; /* Gold sun */
}

/* Moon icon (shown in dark mode) */
.myst-theme-moon-icon {
  color: #faf0be !important; /* Pale yellow moon */
}

/* -----------------------------------------
   6. MENU HAMBURGER BUTTON (Mobile)
   Class: .myst-top-nav-menu-button
   ----------------------------------------- */

.myst-top-nav-menu-button:hover {
  color: #d4a574 !important;
}

/* -----------------------------------------
   7. DROPDOWN MENU STYLING
   Classes: .myst-top-nav-dropdown-items
   ----------------------------------------- */

.myst-top-nav-dropdown-items {
  border: 1px solid rgba(139, 115, 85, 0.3) !important;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1) !important;
}

/* Dropdown chevron icon */
.myst-top-nav-dropdown button svg {
  color: #8b7355 !important;
}

.myst-top-nav-dropdown button:hover svg {
  color: #d4a574 !important;
}

/* ========================================
   ICON REFERENCE GUIDE
   ========================================

   The MyST book-theme uses Heroicons (https://heroicons.com/)
   Here's a map of icons you might want to customize:

   ICON                     | CLASS/SELECTOR                          | PURPOSE
   -------------------------|-----------------------------------------|------------------
   Sun (outline)            | .myst-theme-sun-icon                    | Light mode toggle
   Moon (solid)             | .myst-theme-moon-icon                   | Dark mode toggle
   ChevronRight             | .myst-toc-item button svg               | TOC expand arrow
   ChevronDown              | .myst-top-nav-dropdown button svg       | Dropdown arrow
   Bars3 (MenuIcon)         | .myst-top-nav-menu-button svg           | Mobile hamburger
   ArrowTopRightOnSquare    | External link indicator                 | External links
   MagnifyingGlass          | Search icon                             | Search button

   To replace icons with custom content, use CSS ::before/::after pseudo-elements:

   Example - Replace sun icon with emoji:
   .myst-theme-sun-icon {
     visibility: hidden;
     position: relative;
   }
   .myst-theme-sun-icon::before {
     content: '☀️';
     visibility: visible;
     position: absolute;
     left: 50%;
     top: 50%;
     transform: translate(-50%, -50%);
   }

   ======================================== */

/* ========================================
   QUICK COLOR PALETTE REFERENCE
   ========================================

   Current theme uses these colors (edit as needed):

   --kate-gold:        #d4a574  (Primary accent - warm gold)
   --kate-gold-light:  #faf0be  (Pale yellow/cream)
   --kate-brown:       #8b7355  (Warm brown for icons)
   --kate-gold-hover:  rgba(250, 240, 190, 0.4)  (Hover background)
   --kate-gold-active: rgba(250, 240, 190, 0.5)  (Active background)

   Dark mode variants:
   --kate-gold-dark-hover:  rgba(212, 165, 116, 0.25)
   --kate-gold-dark-active: rgba(212, 165, 116, 0.35)

   ======================================== */
